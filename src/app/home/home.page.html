<div class="ion-page" id="main-content">
  <!-- nav header -->
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Excel Electronics</ion-title>

      <!-- css badge -->
      <ion-buttons slot="end" class="cart-container">
        <ion-button shape="round" fill="clear" id="open-modal">
          <ion-icon slot="icon-only" name="cart-sharp"></ion-icon>

          <!-- Notification Badge -->
          <div class="cart-badge" *ngIf="cart.length > 0">
            {{ cart.length }}
          </div>

        </ion-button>
      </ion-buttons>


    </ion-toolbar>
  </ion-header>

  <!-- card content -->
  <ion-content>


    <!-- warranty card -->
    <div class="card" *ngIf="false">
      <div class="card-inner">
        <div class="card-front">
          <div>

            <div class="ion-justify-content-between flex ion-align-items-center ion-margin-top" style="display: flex;">
              <h3> Virtual Warranty Card</h3>
              <ion-img src="../../assets/icon/favicon.png" style="height: 30px;"></ion-img>
            </div>

            <ion-row id="warrantyCard">
              <span *ngIf="isQrCodeSizeUpdated == false"> {{updateQrCodeWidth()}}</span>
              <ion-col size="4" *ngIf="isQrCodeSizeUpdated">
                <qrcode [qrdata]="qrCode" [errorCorrectionLevel]="'M'" class="custom-qr" [width]="qrCodeWidth"
                  [margin]="1">
                </qrcode>
              </ion-col>
              <ion-col size="8" class="card-info">
                <p>Excel E06</p>
                <p style="color: white; font-size: 20px;">1201-1299-12393</p>
              </ion-col>
            </ion-row>

            <div class="exp-date ion-margin-top">
              <h5>Exp</h5>
              <h3>12/25</h3>
            </div>

          </div>
        </div>

        <div class="card-back">
          <p>Follow Below steps to request your warranty claim.</p>
          <p>1. Go to my My Account. <br> 2. Tap on Request Claim. <br> 3. Enter Information and
            Send Claim Request.</p>
        </div>
      </div>
    </div>


    <div class="ion-padding card-container">

      <!-- warranty card -->
      <ion-card style="margin-top: -45px !important;
      padding-top: 50px;
      margin-left: -25px;
      margin-right: -25px;">
        <img src="../../assets/images/04162020_iPhone_SE_STORY_LEVEL_BANNER_1600x483.jpg" class="card-bg-image">
        <ion-row id="warrantyCard">
          <span *ngIf="isQrCodeSizeUpdated == false"> {{updateQrCodeWidth()}}</span>
          <ion-col sizeXs="4" sizeSm="5" sizeMd="4">
            <qrcode [qrdata]="qrCode" [errorCorrectionLevel]="'M'" class="custom-qr" [width]="qrCodeWidth" [margin]="1">
            </qrcode>
            <span style="margin-left: 15px;">125412586ED</span>
          </ion-col>
          <ion-col sizeXs="8" sizeSm="7" sizeMd="8">
            <div style="margin-left: 10px;">
              <h3>Warranty Card</h3>

              <p>125412586ED</p>
              <p class="card-status">Active</p>
              <br>
              <p style="font-weight: 700;
      color: #4d4a4a">Excel E100 Charger</p>
              <table>
                <tr>
                  <td>Brand </td>
                  <td>: RIMLO</td>
                </tr>
                <tr>
                  <td>Purchase </td>
                  <td>: 20-01-2014</td>
                </tr>
                <tr>
                  <td>Expire </td>
                  <td>: 20-01-2014</td>
                </tr>
              </table>

            </div>
          </ion-col>
        </ion-row>
      </ion-card>

      <!-- banner -->
      <div class="img-card ion-margin-top" *ngIf="false">
        <fa-icon [icon]="icons.faXmark" class="Xmark-icon" (click)="hideCard()"></fa-icon>
        <ion-img src="../../assets/images/poster.jpg"></ion-img>
      </div>

      <!-- gallery carousel -->
      <swiper-container class="mySwiper ion-margin-top" pagination="true" [loop]="true" autoplay-delay="2500"
        autoplay-disable-on-interaction="false">
        <swiper-slide><ion-img src="../../assets/images/poster2.jpg"></ion-img></swiper-slide>
        <swiper-slide><ion-img src="../../assets/images/poster2.jpg"></ion-img></swiper-slide>
        <swiper-slide><ion-img src="../../assets/images/poster2.jpg"></ion-img></swiper-slide>
      </swiper-container>

      <!-- cart list -->
      <ion-row class="ion-margin-top">
        <ion-col size="6" *ngFor="let product of products; let i=index" (click)="addToCart(product)"
          (click)="setOpen(true)">
          <ion-card class="store-products">
            <img src="../../assets/images/product01.jpg" class="margin-bottom">
            <h5 style="font-size: 15px;">{{product.name}}</h5>
            <p class="margin-bottom">{{product.description}}</p>
            <h5>৳{{product.price}}</h5>
          </ion-card>
        </ion-col>

      </ion-row>

      <!-- toast message -->
      <ion-toast [isOpen]="isToastOpen" message="Product added to your shopping cart!" [duration]="2000"
        (didDismiss)="setOpen(false)"></ion-toast>

    </div>

    <!-- modal -->
    <ion-modal trigger="open-modal" (willDismiss)="onWillDismiss($event)">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-buttons slot="end">
              <ion-button (click)="cancel()" shape="round" slot="icon-only"><ion-icon slot="icon-only"
                  name="close-sharp" style="color: #2e2e2e;"></ion-icon></ion-button>
            </ion-buttons>
            <ion-title>YOUR CART</ion-title>
            <!-- <ion-buttons slot="end">
              <ion-button (click)="confirm()" [strong]="true">Confirm</ion-button>
            </ion-buttons> -->
          </ion-toolbar>
        </ion-header>

        <ion-content class="ion-padding">

          <h4 *ngIf="cart.length==0" style="text-align: center;">Your shopping cart is empty!</h4>

          <div *ngIf="false">
            <ion-item *ngFor="let item of cart">
              <ion-row>
                <ion-col size="2">
                  <ion-img src="../../assets/images/product01.jpg"></ion-img>
                </ion-col>
                <ion-col size="9" style="display: flex;
                flex-direction: column;
                justify-content: center;">
                  <h3 style="margin: 0;">{{item.name}}</h3>
                  <p>৳{{item.price}} x {{item.quantity}} = ৳{{item.totalPrice}}</p>
                </ion-col>
                <ion-col size="1" style="display: flex; align-items: center;">
                  <ion-buttons slot="end">
                    <ion-icon name="trash-bin-sharp" (click)="removeFromCart(item)"></ion-icon>
                  </ion-buttons>
                </ion-col>
              </ion-row>
            </ion-item>

          </div>
          <ion-items>
            <ion-item *ngFor="let item of cart">
              <ion-avatar slot="start">
                <img src="../../assets/images/product01.jpg" />
              </ion-avatar>
              <ion-label>{{
                item.name
                }}
                <P>৳{{item.price}} x {{item.quantity}} = ৳{{item.totalPrice}}</P>
              </ion-label>
              <ion-buttons>
                <ion-button style="background: #ff00000d; border-radius: 100%;" shape="round" color="danger"
                  (click)="removeFromCart(item)">
                  <ion-icon slot="icon-only" name="trash-bin-sharp"></ion-icon>
                </ion-button>
              </ion-buttons>
            </ion-item>
          </ion-items>



        </ion-content>

        <ion-item lines="none" style="text-align: center; justify-content: center;">
          <h1>Total - ৳{{ cartTotal }}</h1>
        </ion-item>

        <!-- Full-width Checkout Button -->
        <ion-button expand="block" fill="solid" color="primary" style="margin: 0; height: 58px; background: #ff5722;"
          (click)="confirmOrder()">
          Checkout
        </ion-button>
      </ng-template>
    </ion-modal>

  </ion-content>
</div>

<!-- nav menu -->
<ion-menu contentId="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-toggle>
          <ion-button shape="round" fill="clear">
            <ion-icon slot="icon-only" name="arrow-back" color="secondary"></ion-icon>
          </ion-button>
        </ion-menu-toggle>
      </ion-buttons>
      <ion-title>Menu Content</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
    <ion-list>
      <ion-item style="margin-bottom: 20px;">
        <ion-avatar style="margin-left: -10px;" aria-hidden="true" slot="start">
          <img alt="" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
        </ion-avatar>
        <ion-label>Saifur Rahaman
          <span style="color: #818181;
          font-size: 12px;
          margin-bottom: 0px;">saifurrahaman&#64;gmail.com</span>

        </ion-label>
      </ion-item>
      <ion-item button lines="none">
        <ion-icon class="side-nav-icon" aria-hidden="true" name="reload" slot="start" color="primary"></ion-icon>
        <ion-label color="primary">Reload</ion-label>
      </ion-item>

      <ion-item button lines="none">
        <ion-icon class="side-nav-icon" aria-hidden="true" name="settings" slot="start" color="primary"></ion-icon>
        <ion-label>Settings</ion-label>
      </ion-item>

      <ion-item button lines="none">
        <ion-icon class="side-nav-icon" aria-hidden="true" name="log-out" slot="start" color="primary"></ion-icon>
        <ion-label>Logout</ion-label>
      </ion-item>
    </ion-list>

  </ion-content>
</ion-menu>