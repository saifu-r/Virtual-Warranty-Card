<div class="ion-page" id="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Warranty Card</ion-title>
      <ion-buttons slot="end" class="cart-container">
        <ion-button shape="round" fill="clear" id="open-modal">
          <ion-icon slot="icon-only" name="cart-sharp"></ion-icon>

          <!-- Notification Badge -->
          <div class="cart-badge" *ngIf="cart.length > 0">
            {{ cart.length }}
          </div>

        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-header>


  <ion-content class="ion-padding">
    <div class="profile-dropdown" *ngIf="isDropdownActive">
      <div class="profile-header">
        <ion-icon name="person-circle-outline" style="color: black;"></ion-icon>
        <div class="profile-info">
          <h2>Saifur Rahman</h2>
          <p>saifur&#64;gmail.com</p>
        </div>
      </div>
      <hr>
      <p><fa-icon [icon]="icons.faRotateRight"></fa-icon> Refresh</p>
      <p><fa-icon [icon]="icons.faGear"></fa-icon> Setting</p>
      <p (click)="logout()"><fa-icon [icon]="icons.faArrowRightFromBracket"></fa-icon> Logout</p>
    </div>

    <div class="ion-padding card-container">
      <div class="card" style="background-color: rgb(235, 235, 235);" *ngIf="false">
        <div class="profile-header">
          <ion-icon name="person-circle-outline"></ion-icon>
          <div class="profile-info">
            <h2>Tarik Bin Mashud</h2>
            <p>01752123140</p>
          </div>
        </div>

        <div class="status-section">
          <h1>Platinum Star</h1>
          <p>In GP Network Since:</p>
          <p>Oct, 2017</p>
        </div>

        <div class="rewards-section">
          <ion-button expand="block" shape="round" color="light">View Rewards</ion-button>
          <div class="network-info">
            <span class="badge">Prepaid</span>
            <span class="badge">4G</span>
          </div>
        </div>
      </div>


      <ion-card class="warranty-card">

        <!-- <ion-row>
            <ion-col size="2">
              <qrcode [qrdata]="qrCode" [errorCorrectionLevel]="'M'" class="custom-qr" [width]="100"></qrcode>
            </ion-col>
            <ion-col size="8">
              <h3>Warranty Card</h3>
              <p style="font-weight: bold;">12 Oct 2025</p>
            </ion-col>
          </ion-row> -->


        <div class="ion-justify-content-between flex ion-align-items-center ion-margin-top" style="display: flex;">
          <h3> Virtual Warranty Card</h3>
          <ion-img src="../../assets/icon/favicon.png" style="height: 30px;"></ion-img>
        </div>

        <!-- <h5>Device Information</h5> -->


        <div class="exp-date ion-margin-top">
          <h5>Exp</h5>
          <h3>12/25</h3>
        </div>

        <ion-row class="ion-justify-content-center ion-margin-top">
          <ion-col size="3" class="border-right ion-no-padding">
            <h6> Device</h6>
            <p style="font-weight: bold;">Headphone</p>
          </ion-col>
          <ion-col size="3" class="border-right ion-no-padding">
            <h6>Reg No.</h6>
            <p style="font-weight: bold;">GJ 018281 911</p>
          </ion-col>
          <ion-col size="3" class="ion-no-padding">
            <h6>Brand</h6>
            <p style="font-weight: bold;">Excel</p>
          </ion-col>
        </ion-row>
      </ion-card>

      <div class="ion-margin-top">
        <p>Follow Below steps to request your warranty claim.</p>
        <p>1. Go to my My Account. <br> 2. Tap on Request Claim. <br> 3. Enter Information and
          Send Claim Request.</p>
      </div>



      <ion-button expand="block" shape="round" color="light" class="ion-margin-top">Confirm</ion-button>

      <div class="img-card ion-margin-top" *ngIf="isCardVisible">
        <fa-icon [icon]="icons.faXmark" class="Xmark-icon" (click)="hideCard()"></fa-icon>
        <ion-img src="../../assets/images/poster.jpg"></ion-img>
      </div>

      <swiper-container class="mySwiper ion-margin-top" pagination="true" [loop]="true" autoplay-delay="2500"
        autoplay-disable-on-interaction="false">
        <swiper-slide><ion-img src="../../assets/images/poster2.jpg"></ion-img></swiper-slide>
        <swiper-slide><ion-img src="../../assets/images/poster3.jpg"></ion-img></swiper-slide>
        <swiper-slide><ion-img src="../../assets/images/poster4.jpg"></ion-img></swiper-slide>
      </swiper-container>

      <ion-row>
        <ion-col size="6" *ngFor="let product of products; let i=index" (click)="addToCart(product)"
          style="cursor: pointer;" (click)="setOpen(true)">
          <ion-card>
            <ion-img src="../../assets/images/product01.jpg"></ion-img>
            <h5>{{product.name}}</h5>
            <p>{{product.description}}</p>
            <p>৳{{product.price}}</p>
          </ion-card>
        </ion-col>

      </ion-row>
      <ion-toast [isOpen]="isToastOpen" message="Product added to your shopping cart!" [duration]="2000"
        (didDismiss)="setOpen(false)"></ion-toast>
    </div>

    <ion-modal trigger="open-modal" (willDismiss)="onWillDismiss($event)">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-buttons slot="start">
              <ion-button (click)="cancel()" shape="round"><ion-icon name="close-sharp"
                  style="color: #2e2e2e;"></ion-icon></ion-button>
            </ion-buttons>
            <ion-title>YOUR CART</ion-title>
            <ion-buttons slot="end">
              <ion-button (click)="confirm()" [strong]="true">Confirm</ion-button>
            </ion-buttons>
          </ion-toolbar>
        </ion-header>

        <ion-content class="ion-padding">

          <h4 *ngIf="cart.length==0" style="text-align: center;">Your shopping cart is empty!</h4>

          <ion-item *ngFor="let item of cart">
            <ion-row>
              <ion-col size="2">
                <ion-img src="../../assets/images/product01.jpg"></ion-img>
              </ion-col>
              <ion-col size="9" style="display: flex;
              flex-direction: column;
              justify-content: center;">
                <h3 style="margin: 0;">{{item.name}}</h3>
                <p>৳{{item.price}} x {{item.quantity}} = ৳{{item.totalPrice}}</p>
              </ion-col>
              <ion-col size="1" style="display: flex; align-items: center;">
                <ion-icon name="trash-bin-sharp" style="color: #2e2e2e; font-size: 25px; cursor: pointer; "
                  (click)="removeFromCart(item)"></ion-icon>
              </ion-col>
            </ion-row>
          </ion-item>
        </ion-content>

        <ion-item lines="none" style="text-align: center; justify-content: center;">
          <h1>Total - ৳{{ cartTotal }}</h1>
        </ion-item>

        <!-- Full-width Checkout Button -->
        <ion-button expand="block" fill="solid" color="primary" style="margin: 0; height: 58px;" (click)="confirmOrder()">
          Checkout
        </ion-button>
      </ng-template>
    </ion-modal>



  </ion-content>
</div>




<ion-menu contentId="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-toggle>
          <ion-button shape="round" fill="clear">
            <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
          </ion-button>
        </ion-menu-toggle>
      </ion-buttons>
      <ion-title>Menu Content</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
    <ion-list>
      <ion-item style="margin-bottom: 20px;">
        <ion-avatar style="margin-left: -10px;" aria-hidden="true" slot="start">
          <img alt="" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
        </ion-avatar>
        <ion-label>Saifur Rahaman
          <span style="color: #818181;
          font-size: 12px;
          margin-bottom: 0px;">saifurrahaman&#64;gmail.com</span>

        </ion-label>
      </ion-item>
      <ion-item button lines="none">
        <ion-icon class="side-nav-icon" aria-hidden="true" name="reload" slot="start"></ion-icon>
        <ion-label>Reload</ion-label>
      </ion-item>

      <ion-item button lines="none">
        <ion-icon class="side-nav-icon" aria-hidden="true" name="settings" slot="start"></ion-icon>
        <ion-label>Settings</ion-label>
      </ion-item>

      <ion-item button lines="none">
        <ion-icon class="side-nav-icon" aria-hidden="true" name="log-out" slot="start"></ion-icon>
        <ion-label>Logout</ion-label>
      </ion-item>
    </ion-list>

  </ion-content>
</ion-menu>