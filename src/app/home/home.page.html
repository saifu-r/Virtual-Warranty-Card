<div class="ion-page" id="main-content">
  <!-- nav header -->
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-button></ion-menu-button>
      </ion-buttons>
      <ion-title>Warranty Card</ion-title>

      <!-- css badge -->
      <ion-buttons slot="end" class="cart-container">
        <ion-button shape="round" fill="clear" id="open-modal">
          <ion-icon slot="icon-only" name="cart-sharp"></ion-icon>

          <!-- Notification Badge -->
          <div class="cart-badge" *ngIf="cart.length > 0">
            {{ cart.length }}
          </div>

        </ion-button>
      </ion-buttons>

      <!-- ionic badge -->
      <!-- <ion-buttons slot="end" class="cart-container">
        <ion-button shape="round" fill="clear" id="open-modal">
          <ion-icon slot="icon-only" name="cart-sharp"></ion-icon>

          Notification Badge
          <ion-badge slot="end" *ngIf="cart.length > 0" style="border-radius: 100px;" class="ion-padding">{{ cart.length }}</ion-badge>

        </ion-button>
      </ion-buttons> -->
    </ion-toolbar>
  </ion-header>

  <!-- card content -->
  <ion-content class="ion-padding">
    <div class="ion-padding card-container">

      <div class="card">
        <div class="card-inner">
          <div class="card-front">
            <div>

              <div class="ion-justify-content-between flex ion-align-items-center ion-margin-top"
                style="display: flex;">
                <h3> Virtual Warranty Card</h3>
                <ion-img src="../../assets/icon/favicon.png" style="height: 30px;"></ion-img>
              </div>

              <ion-row id="warrantyCard">
                <span *ngIf="isQrCodeSizeUpdated == false"> {{updateQrCodeWidth()}}</span>
                <ion-col size="4" *ngIf="isQrCodeSizeUpdated">
                  <qrcode [qrdata]="qrCode" [errorCorrectionLevel]="'M'" class="custom-qr" [width]="qrCodeWidth" [margin]="1">
                  </qrcode>
                </ion-col>
                <ion-col size="8">
                  <p>1201-1299-12393</p>
                  <p>Excel E06</p>
                </ion-col>
              </ion-row>

              <div class="exp-date ion-margin-top">
                <h5>Exp</h5>
                <h3>12/25</h3>
              </div>

            </div>
          </div>

          <div class="card-back">
            <p>Follow Below steps to request your warranty claim.</p>
            <p>1. Go to my My Account. <br> 2. Tap on Request Claim. <br> 3. Enter Information and
              Send Claim Request.</p>
          </div>
        </div>
      </div>

      <ion-card *ngIf="false">
        <ion-row id="warrantyCard">
          <span *ngIf="isQrCodeSizeUpdated == false"> {{updateQrCodeWidth()}}</span>
          <ion-col size="6" *ngIf="isQrCodeSizeUpdated">
            <qrcode [qrdata]="qrCode" [errorCorrectionLevel]="'M'" class="custom-qr" [width]="qrCodeWidth"></qrcode>
          </ion-col>
        </ion-row>
      </ion-card>

      <ion-card class="warranty-card ion-margin-top" *ngIf="false">

        <!-- <ion-row>
            <ion-col size="2">
              <qrcode [qrdata]="qrCode" [errorCorrectionLevel]="'M'" class="custom-qr" [width]="100"></qrcode>
            </ion-col>
            <ion-col size="8">
              <h3>Warranty Card</h3>
              <p style="font-weight: bold;">12 Oct 2025</p>
            </ion-col>
          </ion-row> -->


        <div class="ion-justify-content-between flex ion-align-items-center" style="display: flex;">
          <h3> Virtual Warranty Card</h3>
          <ion-img src="../../assets/icon/favicon.png" style="height: 30px;"></ion-img>
        </div>

        <!-- <h5>Device Information</h5> -->


        <div class="exp-date ion-margin-top">
          <h5>Exp</h5>
          <h3>12/25</h3>
        </div>

        <ion-row class="ion-justify-content-center ion-margin-top">
          <ion-col size="3" class="border-right ion-no-padding">
            <h6> Device</h6>
            <p style="font-weight: bold;">Headphone</p>
          </ion-col>
          <ion-col size="3" class="border-right ion-no-padding">
            <h6>Reg No.</h6>
            <p style="font-weight: bold;">GJ 018281 911</p>
          </ion-col>
          <ion-col size="3" class="ion-no-padding">
            <h6>Brand</h6>
            <p style="font-weight: bold;">Excel</p>
          </ion-col>
        </ion-row>
      </ion-card>

      <!-- banner -->
      <div class="img-card ion-margin-top" *ngIf="isCardVisible">
        <fa-icon [icon]="icons.faXmark" class="Xmark-icon" (click)="hideCard()"></fa-icon>
        <ion-img src="../../assets/images/poster.jpg"></ion-img>
      </div>

      <!-- gallery carousel -->
      <swiper-container class="mySwiper ion-margin-top" pagination="true" [loop]="true" autoplay-delay="2500"
        autoplay-disable-on-interaction="false">
        <swiper-slide><ion-img src="../../assets/images/poster2.jpg"></ion-img></swiper-slide>
        <swiper-slide><ion-img src="../../assets/images/poster3.jpg"></ion-img></swiper-slide>
        <swiper-slide><ion-img src="../../assets/images/poster4.jpg"></ion-img></swiper-slide>
      </swiper-container>


      <!-- toast message -->
      <ion-row>
        <ion-col size="6" *ngFor="let product of products; let i=index" (click)="addToCart(product)"
          style="cursor: pointer;" (click)="setOpen(true)">
          <ion-card>
            <ion-img src="../../assets/images/product01.jpg"></ion-img>
            <h5>{{product.name}}</h5>
            <p>{{product.description}}</p>
            <p>৳{{product.price}}</p>
          </ion-card>
        </ion-col>

      </ion-row>
      <ion-toast [isOpen]="isToastOpen" message="Product added to your shopping cart!" [duration]="2000"
        (didDismiss)="setOpen(false)"></ion-toast>


    </div>

    <!-- modal -->
    <ion-modal trigger="open-modal" (willDismiss)="onWillDismiss($event)">
      <ng-template>
        <ion-header>
          <ion-toolbar>
            <ion-buttons slot="end">
              <ion-button (click)="cancel()" shape="round" slot="icon-only"><ion-icon slot="icon-only"
                  name="close-sharp" style="color: #2e2e2e;"></ion-icon></ion-button>
            </ion-buttons>
            <ion-title>YOUR CART</ion-title>
            <!-- <ion-buttons slot="end">
              <ion-button (click)="confirm()" [strong]="true">Confirm</ion-button>
            </ion-buttons> -->
          </ion-toolbar>
        </ion-header>

        <ion-content class="ion-padding">

          <h4 *ngIf="cart.length==0" style="text-align: center;">Your shopping cart is empty!</h4>

          <div *ngIf="false">
            <ion-item *ngFor="let item of cart">
              <ion-row>
                <ion-col size="2">
                  <ion-img src="../../assets/images/product01.jpg"></ion-img>
                </ion-col>
                <ion-col size="9" style="display: flex;
                flex-direction: column;
                justify-content: center;">
                  <h3 style="margin: 0;">{{item.name}}</h3>
                  <p>৳{{item.price}} x {{item.quantity}} = ৳{{item.totalPrice}}</p>
                </ion-col>
                <ion-col size="1" style="display: flex; align-items: center;">
                  <ion-buttons slot="end">
                    <ion-icon name="trash-bin-sharp" (click)="removeFromCart(item)"></ion-icon>
                  </ion-buttons>
                </ion-col>
              </ion-row>
            </ion-item>

          </div>
          <ion-items>
            <ion-item *ngFor="let item of cart">
              <ion-avatar slot="start">
                <img src="../../assets/images/product01.jpg" />
              </ion-avatar>
              <ion-label>{{
                item.name
                }}
                <P>৳{{item.price}} x {{item.quantity}} = ৳{{item.totalPrice}}</P>
              </ion-label>
              <ion-buttons>
                <ion-button style="background: #ff00000d; border-radius: 100%;" shape="round" color="danger"
                  (click)="removeFromCart(item)">
                  <ion-icon slot="icon-only" name="trash-bin-sharp"></ion-icon>
                </ion-button>
              </ion-buttons>
            </ion-item>
          </ion-items>



        </ion-content>

        <ion-item lines="none" style="text-align: center; justify-content: center;">
          <h1>Total - ৳{{ cartTotal }}</h1>
        </ion-item>

        <!-- Full-width Checkout Button -->
        <ion-button expand="block" fill="solid" color="primary" style="margin: 0; height: 58px;"
          (click)="confirmOrder()">
          Checkout
        </ion-button>
      </ng-template>
    </ion-modal>



  </ion-content>
</div>



<!-- nav menu -->
<ion-menu contentId="main-content">
  <ion-header>
    <ion-toolbar>
      <ion-buttons slot="start">
        <ion-menu-toggle>
          <ion-button shape="round" fill="clear">
            <ion-icon slot="icon-only" name="arrow-back"></ion-icon>
          </ion-button>
        </ion-menu-toggle>
      </ion-buttons>
      <ion-title>Menu Content</ion-title>
    </ion-toolbar>
  </ion-header>
  <ion-content class="ion-padding">
    <ion-list>
      <ion-item style="margin-bottom: 20px;">
        <ion-avatar style="margin-left: -10px;" aria-hidden="true" slot="start">
          <img alt="" src="https://ionicframework.com/docs/img/demos/avatar.svg" />
        </ion-avatar>
        <ion-label>Saifur Rahaman
          <span style="color: #818181;
          font-size: 12px;
          margin-bottom: 0px;">saifurrahaman&#64;gmail.com</span>

        </ion-label>
      </ion-item>
      <ion-item button lines="none">
        <ion-icon class="side-nav-icon" aria-hidden="true" name="reload" slot="start"></ion-icon>
        <ion-label>Reload</ion-label>
      </ion-item>

      <ion-item button lines="none">
        <ion-icon class="side-nav-icon" aria-hidden="true" name="settings" slot="start"></ion-icon>
        <ion-label>Settings</ion-label>
      </ion-item>

      <ion-item button lines="none">
        <ion-icon class="side-nav-icon" aria-hidden="true" name="log-out" slot="start"></ion-icon>
        <ion-label>Logout</ion-label>
      </ion-item>
    </ion-list>

  </ion-content>
</ion-menu>